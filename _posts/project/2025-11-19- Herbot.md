---
layout: post
title: Herbot
subtitle: Autonomous Herb Managing Robot
tags: [robot]
author: solgyu lee
category: project
mathjax: false
thumbnail-img: "/assets/img/Herbot/Herbot.jpeg"
---

Herbot is an autonomous herb management robot I developed as part of the "AI Embedded Programming" course. The system autonomously handles herb cutting and removes diseased leaves.

<video width="100%" controls>
  <source src="/assets/img/Herbot/Herbot-video.mov" type="video/mp4">
  Your browser does not support the video tag.
</video> 
## Components

- Raspberry Pi 4
- Coral USB Accelerator
- NEMA 17 Stepper Motor
  - Conveyor belt, aluminum profile, carriage
- Linear Actuator
- DC Motor
- Pi Camera
- Servo Motor
- 12V to 6V Converter
- TMC2209 Driver
- 2x TB6612 Drivers

## Mechanical Design

The robot's manipulation system consists of four motors working together. A servo motor controls the gripper mechanism for cutting herbs. To enable full spatial movement, the gripper traverses along the Z-axis using a NEMA 17 stepper motor connected to a belt-driven conveyor system, while a linear actuator provides X-axis motion. Since plants require inspection from multiple angles, I integrated a DC motor beneath the plant pot to rotate it, allowing the robot to access all sides.

## Power and Motor Control

The system runs on three different motor types requiring distinct power requirements: the NEMA 17 (12V), linear actuator (6V), and DC motor (6V). I used a 12V power supply with three independent motor drivers: TMC2209 for the stepper motor, and two TB6612 drivers for the linear actuator and DC motor respectively. Since mixing 12V and 6V directly isn't feasible, I incorporated a DC-DC converter to step down 12V to 6V. Power distribution is managed through WAGO terminal blocks, which provide a clean, solder-free solution for splitting the supply into separate 12V and 6V rails.

## Motor Calibration

Hardware assembly was just the beginning. Each motor required careful calibration to determine operational parameters: belt travel range, step counts for precise positioning, gripper opening/closing angles, linear actuator movement increments, and optimal DC motor speed for stable plant rotation. I developed dedicated calibration routines for each motor to establish these values.

## Web Interface

![Herbot Web Interface](/assets/img/Herbot/Herbot-web.PNG)

![Herbot Web Logs](/assets/img/Herbot/Herbot-web-log.PNG)

To make the system more accessible, I built a web interface for Herbot. Users can view all captured images, access system logs, and remotely control the robot's operations. The core functionality is the "scan" feature, which systematically photographs the plant from multiple angles. I trained two vision models—one for herb species identification and another for disease detection—on my local machine, then deployed them to run on the Raspberry Pi 4 accelerated by the Coral USB device.
